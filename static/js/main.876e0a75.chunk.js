(this["webpackJsonpreact-tic-tac-toe"]=this["webpackJsonpreact-tic-tac-toe"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(8),i=n.n(s),o=n(1),l=n(2),u=n(4),c=n(3),p=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;Object(o.a)(this,n),(a=e.call(this,t)).state={words:t.children,text:""};for(var r=100,s=0;s<a.state.words.length;s++){var i=200*Math.random();setTimeout((function(){a.setState((function(t){return{words:t.words.slice(1,t.words.length),text:t.text+t.words.slice(0,1)}}))}),r+i),r+=i}return a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",null,">",this.state.text,r.a.createElement("span",{className:"blinking unselectable"},"_"))}}]),n}(r.a.Component),h=n(6),m=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("td",{onClick:this.props.clickHandler,className:"cell"+(this.props.isMidVert?" middle-vert":"")},this.props.symbol)}}]),n}(r.a.Component),v=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"renderSquare",value:function(t,e){var n=this,a=this.props.squares[t][e];return r.a.createElement(m,{symbol:a,clickHandler:function(){n.props.handleClick(t,e)},isMidVert:1===e,key:e+", "+t})}},{key:"render",value:function(){var t=this;return r.a.createElement("table",{className:"board"},r.a.createElement("tbody",null,this.props.squares.map((function(e,n){return r.a.createElement("tr",{key:n,className:1===n?"middle-row":""},e.map((function(e,a){return t.renderSquare(n,a)})))}))))}}]),n}(r.a.Component),d=n(5),f=function(){function t(){Object(o.a)(this,t)}return Object(l.a)(t,null,[{key:"evaluateSquares",value:function(t,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var r,s=a[n],i=e[s],o=Object(d.a)(t);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l[0]===i&&l[1]===i&&l[2]===i)return s}}catch(c){o.e(c)}finally{o.f()}for(var u=0;u<t.length;u++)if(t[0][u]===i&&t[1][u]===i&&t[2][u]===i)return s;if(t[0][0]===i&&t[1][1]===i&&t[2][2]===i)return s;if(t[0][2]===i&&t[1][1]===i&&t[2][0]===i)return s}return null}},{key:"getBlankSquares",value:function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)t[n][a]||e.push({row:n,cell:a});return e}},{key:"randFromArr",value:function(t){return t[Math.floor(Math.random()*t.length)]}},{key:"copyWithMove",value:function(t,e,n){for(var a=[],r=0;r<t.length;r++)a.push(t[r].slice());return e&&n&&(a[n.row][n.cell]=e),a}},{key:"boardToString",value:function(t){for(var e="\n    1   2   3\n  -------------\n",n=0;n<t.length;n++){e+=n+1+" |";for(var a=0;a<t[n].length;a++)e+=" "+(t[n][a]?t[n][a]:" ")+" |";e+="\n  -------------\n"}return e}}]),t}(),y=function(){function t(){Object(o.a)(this,t)}return Object(l.a)(t,null,[{key:"findRandomMove",value:function(t){var e=f.getBlankSquares(t);return f.randFromArr(e)}}]),t}();y.getMove=function(t,e,n){return f.getBlankSquares(t).length?("med"===e?function(t,e){return y.findBestMove(t,e,2)}:"imp"===e?y.findBestMove:y.findRandomMove)(t,n):null},y.getEmotion=function(t,e,n,a){var r=f.evaluateSquares(t,a);if(r)return"ply1"===r?"(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b":"(\u273f\u25e0\u203f\u25e0)";if(0===f.getBlankSquares(t).length)return"\u1555( \u141b )\u1557";if("imp"===e){var s=y.evaluateSquaresMinimax(t,"ply1"===n?-1:1,a);return 1===s?"(\u0ca0.\u0ca0)":0===s?"(\u2299\u02cd\u2299)":"\u2570(*\xb0\u25bd\xb0*)\u256f"}if("med"===e){var i=y.evaluateSquaresMinimax(t,"ply1"===n?-1:1,a,2);return 1===i?"(\u3063 \xb0\u0414 \xb0;)\u3063":0===i?"\u250c\u0f3c \u03c3 \u2038 \u03c3 \u0f3d\u2510":"\uff08\uff3e\u2200\uff3e\u25cf\uff09\uff89\uff7c"}return"esy"===e?"\u0f3c \u3064 \u25d5_\u25d5 \u0f3d\u3064":void 0},y.findBestMove=function(t,e){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=f.getBlankSquares(t),s=[],i=-2,o=Object(d.a)(r);try{for(o.s();!(n=o.n()).done;){var l=n.value,u=f.copyWithMove(t,e.ply2,l),c=-y.evaluateSquaresMinimax(u,-1,e,a);console.log({moveEval:c}),c>i?(i=c,s=[l]):c===i&&s.push(l)}}catch(h){o.e(h)}finally{o.f()}var p=f.randFromArr(s);return p},y.evaluateSquaresMinimax=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(r>=a)return console.log("Exceded depth"),null;var s=f.evaluateSquares(t,n);if(s)return("ply1"===s?-1:1)*e;var i,o=1===e?"ply2":"ply1",l=f.getBlankSquares(t),u=-2,c=Object(d.a)(l);try{for(c.s();!(i=c.n()).done;){var p=i.value,h=f.copyWithMove(t,n[o],p),m=-y.evaluateSquaresMinimax(h,-e,n,a,r+1);null!==m&&(m>u&&(u=m))}}catch(v){c.e(v)}finally{c.f()}return 0===l.length?0:u};var b=y,g=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).AiTurnCheck=function(){if(!a.state.isFinished){var t=f.evaluateSquares(a.state.squares,a.state.symbols);if(t)return void a.setState({isFinished:!0,winner:t});if(0===f.getBlankSquares(a.state.squares).length)return void a.setState({isFinished:!0,winner:"Draw"});a.makeAiMove()}},a.updateAiEmotion=function(){if("hum"!==a.props.settings["player-2-mode"]){var t=b.getEmotion(a.state.squares,a.props.settings["player-2-mode"],a.state.isP1sTurn?"ply1":"ply2",a.state.symbols);a.state.AiEmotion!==t&&a.setState({AiEmotion:t})}},a.makeAiMove=function(){a.state.isP1sTurn||"hum"===a.props.settings["player-2-mode"]||a.setState((function(t){var e=b.getMove(a.state.squares,a.props.settings["player-2-mode"],a.state.symbols),n=f.copyWithMove(a.state.squares,a.state.symbols.ply2,e);return Object(h.a)(Object(h.a)({},t),{},{squares:n,isP1sTurn:!0})}))},a.handleClick=function(t,e){if(!a.state.isFinished&&!a.state.squares[t][e]&&(a.state.isP1sTurn||"hum"===a.props.settings["player-2-mode"])){var n=f.copyWithMove(a.state.squares);n[t][e]=a.state.symbols[a.state.isP1sTurn?"ply1":"ply2"],a.setState({squares:n,isP1sTurn:!a.state.isP1sTurn})}},a.state={isP1sTurn:"ply1"===t.settings["who-is-moving-first"],symbols:{ply1:"ply1"===t.settings["who-is-o"]?"O":"X",ply2:"ply1"===t.settings["who-is-o"]?"X":"O"},isFinished:!1,squares:Array(3).fill(Array(3).fill(null)),winner:null,AiEmotion:null},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Draw"===this.state.winner?"Draw!":this.state.winner?"".concat(this.state.winner," wins!"):""),r.a.createElement(v,{squares:this.state.squares,handleClick:this.handleClick}),r.a.createElement("p",null,"Current turn:"," ",this.state.isP1sTurn?"Player 1":"Player 2"," (",this.state.symbols[this.state.isP1sTurn?"ply1":"ply2"],")"),"hum"!==this.props.settings["player-2-mode"]?r.a.createElement("p",null,"AI: ",this.state.AiEmotion||"\u311f( \u2594, \u2594 )\u310f"):"")}},{key:"componentDidMount",value:function(){this.AiTurnCheck(),this.updateAiEmotion()}},{key:"componentDidUpdate",value:function(){this.AiTurnCheck(),this.updateAiEmotion()}}]),n}(r.a.Component),O=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=["button"];return this.props.color&&t.push("button-"+this.props.color),this.props.largeButton&&t.push("button-large"),this.props.roundedLeft&&t.push("button-rounded-left"),this.props.roundedRight&&t.push("button-rounded-right"),this.props.roundedNone&&t.push("button-rounded-none"),this.props.staticOnHover&&t.push("button-static"),r.a.createElement("button",{onClick:this.props.handleClick,className:t.join(" ")},this.props.content)}}]),n}(r.a.Component),k=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={buttons:null,selected:0},a.select(a.state.selected),a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"button-group"},r.a.createElement("label",{htmlFor:this.props.id},this.props.labelText),r.a.createElement("div",{className:"buttons",id:this.props.id},this.state.buttons||r.a.createElement("div",null,"Loading...")))}},{key:"select",value:function(t){var e=this,n=this.props.buttons.map((function(n,a){return r.a.createElement(O,{color:t===a?"filled-"+e.props.color:"gray",handleClick:function(){return e.select(a)},staticOnHover:!0,content:n.text,key:a})}));this.state.buttons?this.setState({buttons:n,selected:t}):this.state.buttons=n,this.props.logSelect(this.props.id,this.props.buttons[t].val)}},{key:"getSelected",value:function(){return this.props.buttons[this.state.selected].val}}]),n}(r.a.Component),j=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).logSelect=function(t,e){a.setState((function(n){var a=Object(h.a)({},n.options);return a[t]=e,{options:a}}))},a.state={options:{}},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"settings"},r.a.createElement("h2",null,"Settings"),r.a.createElement(k,{id:"who-is-o",labelText:"Who is O?",color:"purple",buttons:[{text:"Player 1",val:"ply1"},{text:"Player 2",val:"ply2"}],logSelect:this.logSelect}),r.a.createElement(k,{id:"who-is-moving-first",labelText:"Who is moving first?",color:"purple",buttons:[{text:"Player 1",val:"ply1"},{text:"Player 2",val:"ply2"}],logSelect:this.logSelect}),r.a.createElement(k,{id:"player-2-mode",labelText:"Player 2 is:",color:"purple",buttons:[{text:"Easy Computer",val:"esy"},{text:"Medium Computer",val:"med"},{text:"Impossible Computer",val:"imp"},{text:"Human",val:"hum"}],logSelect:this.logSelect}),r.a.createElement(O,{color:"green",content:"Play!",handleClick:function(){t.props.submitWithOptions(t.state.options)},largeButton:"true"}))}}]),n}(r.a.Component),E=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).submitWithOptions=function(t){a.setState({showSettings:!1,showGame:!0,settings:t})},a.state={showSettings:!0,showGame:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,null,"tic tac toe"),r.a.createElement("hr",{className:"divider"}),this.state.showSettings&&r.a.createElement(j,{submitWithOptions:this.submitWithOptions}),this.state.showGame&&r.a.createElement(g,{settings:this.state.settings}))}}]),n}(r.a.Component);n(14);i.a.render(r.a.createElement(E,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.876e0a75.chunk.js.map