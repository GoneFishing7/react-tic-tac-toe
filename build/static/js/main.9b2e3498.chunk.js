(this["webpackJsonpreact-tic-tac-toe"]=this["webpackJsonpreact-tic-tac-toe"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(8),o=n.n(s),i=n(1),l=n(2),u=n(4),c=n(3),p=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;Object(i.a)(this,n),(a=e.call(this,t)).state={words:t.children,text:""};for(var r=100,s=0;s<a.state.words.length;s++){var o=200*Math.random();setTimeout((function(){a.setState((function(t){return{words:t.words.slice(1,t.words.length),text:t.text+t.words.slice(0,1)}}))}),r+o),r+=o}return a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",null,">",this.state.text,r.a.createElement("span",{className:"blinking unselectable"},"_"))}}]),n}(r.a.Component),h=n(6),v=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("td",{onClick:this.props.clickHandler,className:"cell"+(this.props.isMidVert?" middle-vert":"")},this.props.symbol)}}]),n}(r.a.Component),m=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"renderSquare",value:function(t,e){var n=this,a=this.props.squares[t][e];return r.a.createElement(v,{symbol:a,clickHandler:function(){n.props.handleClick(t,e)},isMidVert:1===e,key:e+", "+t})}},{key:"render",value:function(){var t=this;return r.a.createElement("table",{className:"board"},r.a.createElement("tbody",null,this.props.squares.map((function(e,n){return r.a.createElement("tr",{key:n,className:1===n?"middle-row":""},e.map((function(e,a){return t.renderSquare(n,a)})))}))))}}]),n}(r.a.Component),d=n(5),f=function(){function t(){Object(i.a)(this,t)}return Object(l.a)(t,null,[{key:"evaluateSquares",value:function(t,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var r,s=a[n],o=e[s],i=Object(d.a)(t);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(l[0]===o&&l[1]===o&&l[2]===o)return s}}catch(c){i.e(c)}finally{i.f()}for(var u=0;u<t.length;u++)if(t[0][u]===o&&t[1][u]===o&&t[2][u]===o)return s;if(t[0][0]===o&&t[1][1]===o&&t[2][2]===o)return s;if(t[0][2]===o&&t[1][1]===o&&t[2][0]===o)return s}return null}},{key:"getBlankSquares",value:function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)t[n][a]||e.push({row:n,cell:a});return e}},{key:"randFromArr",value:function(t){return t[Math.floor(Math.random()*t.length)]}},{key:"copyWithMove",value:function(t,e,n){for(var a=[],r=0;r<t.length;r++)a.push(t[r].slice());return e&&n&&(a[n.row][n.cell]=e),a}},{key:"boardToString",value:function(t){for(var e="\n    1   2   3\n  -------------\n",n=0;n<t.length;n++){e+=n+1+" |";for(var a=0;a<t[n].length;a++)e+=" "+(t[n][a]?t[n][a]:" ")+" |";e+="\n  -------------\n"}return e}}]),t}(),y=function(){function t(){Object(i.a)(this,t)}return Object(l.a)(t,null,[{key:"findBasicMove",value:function(t,e){var n,a=f.getBlankSquares(t),r=[],s=[],o=[],i=Object(d.a)(a);try{t:for(i.s();!(n=i.n()).done;){var l=n.value,u=f.copyWithMove(t,e.ply2,l);if("ply2"===f.evaluateSquares(u,e))r.push(l);else{var c,p=f.getBlankSquares(u),h=Object(d.a)(p);try{for(h.s();!(c=h.n()).done;){var v=c.value,m=f.copyWithMove(u,e.ply1,v);if("ply1"===f.evaluateSquares(m,e)){o.push(l);continue t}}}catch(y){h.e(y)}finally{h.f()}s.push(l)}}}catch(y){i.e(y)}finally{i.f()}return console.log({winningMoves:r,neutralMoves:s,losingMoves:o}),r.length?f.randFromArr(r):s.length?f.randFromArr(s):f.randFromArr(o)}},{key:"findRandomMove",value:function(t){var e=f.getBlankSquares(t);return f.randFromArr(e)}}]),t}();y.getMove=function(t,e,n){return f.getBlankSquares(t).length?("med"===e?y.findBasicMove:"imp"===e?y.findBestMove:y.findRandomMove)(t,n):null},y.getEmotion=function(t,e,n){console.log({squares:t,symbols:n});var a=f.evaluateSquares(t,n);if(a)return"ply1"===a?"(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b":"(\u273f\u25e0\u203f\u25e0)"},y.findBestMove=function(t,e){var n,a=f.getBlankSquares(t),r=[],s=-2,o=Object(d.a)(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,l=f.copyWithMove(t,e.ply2,i);console.log({squaresWithMove:l});var u=y.evaluateSquaresMinimax(l,-1,e);u>s?(s=u,r=[i]):u===s&&r.push(i)}}catch(p){o.e(p)}finally{o.f()}var c=f.randFromArr(r);return console.log("Minimax eval: ".concat(y.evaluateSquaresMinimax(f.copyWithMove(t,e.ply2,c),-1,e))),c},y.evaluateSquaresMinimax=function(t,e,n){var a=f.evaluateSquares(t,n);if(a)return("ply1"===a?-1:1)*e;var r,s=1===e?"ply2":"ply1",o=f.getBlankSquares(t),i=-2,l=Object(d.a)(o);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=f.copyWithMove(t,n[s],u),p=y.evaluateSquaresMinimax(c,-e,n);i=i?p>i?p:i:p}}catch(h){l.e(h)}finally{l.f()}return-2===i||0===o.length?0:i};var b=y,g=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).AiTurnCheck=function(){if(!a.state.isFinished){var t=f.evaluateSquares(a.state.squares,a.state.symbols);if(t)return void a.setState({isFinished:!0,winner:t});if(0===f.getBlankSquares(a.state.squares).length)return void a.setState({isFinished:!0,winner:"Draw"});a.makeAiMove()}},a.updateAiEmotion=function(){if("hum"!==a.props.settings["player-2-mode"]){var t=b.getEmotion(a.state.squares,a.props.settings["player-2-mode"],a.state.symbols);a.state.AiEmotion!==t&&a.setState({AiEmotion:t})}},a.makeAiMove=function(){a.state.isP1sTurn||"hum"===a.props.settings["player-2-mode"]||a.setState((function(t){var e=b.getMove(a.state.squares,a.props.settings["player-2-mode"],a.state.symbols),n=f.copyWithMove(a.state.squares,a.state.symbols.ply2,e);return Object(h.a)(Object(h.a)({},t),{},{squares:n,isP1sTurn:!0})}))},a.handleClick=function(t,e){if(!a.state.isFinished&&!a.state.squares[t][e]&&(a.state.isP1sTurn||"hum"===a.props.settings["player-2-mode"])){var n=f.copyWithMove(a.state.squares);n[t][e]=a.state.symbols[a.state.isP1sTurn?"ply1":"ply2"],a.setState({squares:n,isP1sTurn:!a.state.isP1sTurn})}},a.state={isP1sTurn:"ply1"===t.settings["who-is-moving-first"],symbols:{ply1:"ply1"===t.settings["who-is-o"]?"O":"X",ply2:"ply1"===t.settings["who-is-o"]?"X":"O"},isFinished:!1,squares:Array(3).fill(Array(3).fill(null)),winner:null,AiEmotion:null},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Draw"===this.state.winner?"Draw!":this.state.winner?"".concat(this.state.winner," wins!"):""),r.a.createElement(m,{squares:this.state.squares,handleClick:this.handleClick}),r.a.createElement("p",null,"Current turn:"," ",this.state.isP1sTurn?"Player 1":"Player 2"," (",this.state.symbols[this.state.isP1sTurn?"ply1":"ply2"],")"),"hum"!==this.props.settings["player-2-mode"]?r.a.createElement("p",null,"AI: ",this.state.AiEmotion||"\u311f( \u2594, \u2594 )\u310f"):"")}},{key:"componentDidMount",value:function(){this.AiTurnCheck(),this.updateAiEmotion()}},{key:"componentDidUpdate",value:function(){this.AiTurnCheck(),this.updateAiEmotion()}}]),n}(r.a.Component),O=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=["button"];return this.props.color&&t.push("button-"+this.props.color),this.props.largeButton&&t.push("button-large"),this.props.roundedLeft&&t.push("button-rounded-left"),this.props.roundedRight&&t.push("button-rounded-right"),this.props.roundedNone&&t.push("button-rounded-none"),this.props.staticOnHover&&t.push("button-static"),r.a.createElement("button",{onClick:this.props.handleClick,className:t.join(" ")},this.props.content)}}]),n}(r.a.Component),k=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={buttons:null,selected:0},a.select(a.state.selected),a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"button-group"},r.a.createElement("label",{htmlFor:this.props.id},this.props.labelText),r.a.createElement("div",{className:"buttons",id:this.props.id},this.state.buttons||r.a.createElement("div",null,"Loading...")))}},{key:"select",value:function(t){var e=this,n=this.props.buttons.map((function(n,a){return r.a.createElement(O,{color:t===a?"filled-"+e.props.color:"gray",handleClick:function(){return e.select(a)},staticOnHover:!0,content:n.text,key:a})}));this.state.buttons?this.setState({buttons:n,selected:t}):this.state.buttons=n,this.props.logSelect(this.props.id,this.props.buttons[t].val)}},{key:"getSelected",value:function(){return this.props.buttons[this.state.selected].val}}]),n}(r.a.Component),j=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).logSelect=function(t,e){a.setState((function(n){var a=Object(h.a)({},n.options);return a[t]=e,{options:a}}))},a.state={options:{}},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"settings"},r.a.createElement("h2",null,"Settings"),r.a.createElement(k,{id:"who-is-o",labelText:"Who is O?",color:"purple",buttons:[{text:"Player 1",val:"ply1"},{text:"Player 2",val:"ply2"}],logSelect:this.logSelect}),r.a.createElement(k,{id:"who-is-moving-first",labelText:"Who is moving first?",color:"purple",buttons:[{text:"Player 1",val:"ply1"},{text:"Player 2",val:"ply2"}],logSelect:this.logSelect}),r.a.createElement(k,{id:"player-2-mode",labelText:"Player 2 is:",color:"purple",buttons:[{text:"Easy Computer",val:"esy"},{text:"Medium Computer",val:"med"},{text:"Impossible Computer",val:"imp"},{text:"Human",val:"hum"}],logSelect:this.logSelect}),r.a.createElement(O,{color:"green",content:"Play!",handleClick:function(){t.props.submitWithOptions(t.state.options)},largeButton:"true"}))}}]),n}(r.a.Component),S=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).submitWithOptions=function(t){a.setState({showSettings:!1,showGame:!0,settings:t})},a.state={showSettings:!0,showGame:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,null,"tic tac toe"),r.a.createElement("hr",{className:"divider"}),this.state.showSettings&&r.a.createElement(j,{submitWithOptions:this.submitWithOptions}),this.state.showGame&&r.a.createElement(g,{settings:this.state.settings}))}}]),n}(r.a.Component);n(14);o.a.render(r.a.createElement(S,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.9b2e3498.chunk.js.map